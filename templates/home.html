{% extends "base.html" %}




{% block content %}

<div class="m-5 pt-5">

    <h1 class="text-center text-success pb-5 display-3 "><strong>Musicians Record</strong></h1>


    <table class="table table-bordered border-success bg-transparent text-center">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Musician Name</th>
                <th scope="col">Email</th>
                <th scope="col">Instrument Type</th>
                <th scope="col">Album Rating</th>
                <th scope="col">Album Name</th>
                <th scope="col">Release Date</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for musician in musicians %}
                {% for album in musician.albums.all %}
                    <tr>
                        <td>{{ album.id }}</td>
                        <td><a class="text-decoration-none" href="{% url 'edit_musician' musician.id %}">{{ musician.first_name }} {{ musician.last_name }}</a></td>
                        <td>{{ musician.email }}</td>
                        <td>{{ musician.instrument_type }}</td>
                        <td>{{ album.rating }}</td>
                        <td>{{ album.album_name }}</td>
                        <td>{{ album.album_release_date|date:"D, d M Y" }}</td>
                        <td>
                            <a class="btn btn-primary btn-sm" href="{% url 'edit_album' album.id %}">Edit</a> 
                            <a class="btn btn-danger btn-sm" href="{% url 'delete_album' album.id %}">Delete</a>
                        </td>
                    </tr>
                {% endfor %}
            {% endfor %}
        </tbody>
    </table>
    
</div>



{% endblock content %}